name: Test Secrets

on:
  workflow_dispatch:

jobs:
  test-secrets:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Test secret access
      run: |
        echo "=== 测试Secrets是否正确设置 ==="
        echo "LINUXDO_USERNAME length: ${{ secrets.LINUXDO_USERNAME != '' && 'SET' || 'NOT SET' }}"
        echo "LINUXDO_PASSWORD length: ${{ secrets.LINUXDO_PASSWORD != '' && 'SET' || 'NOT SET' }}"
        echo ""
        echo "=== 显示变量名称（不显示值） ==="
        env | grep -E "(LINUXDO|BROWSE|GOTIFY|SC3|WXPUSH)" | sort || true
        echo ""
        echo "=== 尝试传递给脚本 ==="
        echo "用户名设置状态: ${{ secrets.LINUXDO_USERNAME != '' }}"
        echo "密码设置状态: ${{ secrets.LINUXDO_PASSWORD != '' }}"